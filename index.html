<!DOCTYPE html>
<html lang="es-CO" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Carta para Mi preciosa princesa</title>
    <!-- Open Graph -->
    <meta property="og:type" content="article">
    <meta property="og:title" content="Carta para Mi preciosa princesa">
    <meta property="og:description" content="Carta rom√°ntica interactiva para iPhone 14 Pro y Motorola Edge 50 Fusi√≥n">
    <meta property="og:image" content="/images/carta-preview.png">
    <meta property="og:locale" content="es_CO">
    <!-- Fuentes optimizadas -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400&family=Open+Sans:wght@400;600&display=swap"
        rel="stylesheet">
    <style>
        /* Disable selection */
        * {
            user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
        }

        button,
        .toggle {
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
        }

        :root {
            --bg-start: #f2cc8f;
            --bg-end: #fff1e0;
            --text: #333;
            --primary: #e07a5f;
            --accent: #f2cc8f;
            --shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            --font-base: 'Open Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            --font-fancy: 'Dancing Script', cursive;
            --space-1: 0.25rem;
            --space-2: 0.5rem;
            --space-3: 1rem;
            --space-4: 1.5rem;
            --speed: 0.3s;
        }

        [data-theme="dark"] {
            --bg-start: #4b3f72;
            --bg-end: #1a1a1a;
            --text: #eee;
            --primary: #ffb4a2;
        }

        /* Reset & fluid type */
        *,
        *::before,
        *::after {
            box-sizing: border-box;
        }

        html {
            font-size: clamp(14px, 4vw, 18px);
            scroll-behavior: smooth;
        }

        body {
            margin: 0;
            padding: env(safe-area-inset) var(--space-3);
            font-family: var(--font-base);
            color: var(--text);
            background: linear-gradient(135deg, var(--bg-start), var(--bg-end));
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            line-height: 1.8;
            letter-spacing: 0.02em;
            -webkit-font-smoothing: antialiased;
            transition: background var(--speed), color var(--speed);
            touch-action: manipulation;
        }

        main {
            width: 100%;
            max-width: 430px;
            display: grid;
            grid-template-rows: auto 1fr auto;
            gap: var(--space-3);
        }

        /* Larger screens get wider container */
        @media(min-width:1200px) {
            main {
                max-width: 800px;
            }
        }

        .card {
            background: var(--accent);
            border-radius: 1.5rem;
            box-shadow: var(--shadow);
            overflow: hidden;
            padding: var(--space-3);
            animation: fadeInUp 0.8s var(--speed) ease-out;
            transition: transform var(--speed), background var(--speed);
        }

        .card:hover {
            transform: translateY(-6px);
        }

        header {
            text-align: center;
        }

        header h1 {
            margin: 0;
            font-family: var(--font-fancy);
            font-size: clamp(2rem, 6vw, 3rem);
            color: var(--primary);
            animation: popIn 0.6s var(--speed) ease-out;
        }

        .toggle {
            display: block;
            margin: var(--space-2) auto 0;
            background: none;
            border: none;
            font-size: 1.6rem;
            cursor: pointer;
            color: var(--text);
            transition: transform var(--speed);
        }

        .toggle:hover,
        .toggle:focus {
            transform: rotate(360deg);
            outline: none;
        }

        .text {
            white-space: normal;
            word-break: break-word;
            font-family: var(--font-base);
            font-weight: 400;
            font-size: clamp(1rem, 4vw, 1.2rem);
            margin-bottom: var(--space-2);
        }

        button {
            font-family: var(--font-base);
            font-weight: 600;
            display: block;
            margin: var(--space-3) auto 0;
            padding: var(--space-2) var(--space-3);
            font-size: clamp(0.9rem, 3vw, 1rem);
            color: #fff;
            background: var(--primary);
            border: none;
            border-radius: var(--space-2);
            box-shadow: var(--shadow);
            cursor: pointer;
            transition: transform var(--speed), background var(--speed);
        }

        button:hover {
            transform: scale(1.05);
        }

        button:active {
            transform: scale(0.95)
        }

        button:focus {
            outline: 2px dashed var(--primary);
        }

        #btn-sorpresa[aria-expanded="true"] {
            background: #c2595a;
            animation: heartbeat 1s var(--speed) ease-in-out infinite;
        }

        #sorpresa {
            display: none;
            margin-top: var(--space-3);
            font-family: var(--font-base);
            font-weight: 400;
            font-size: clamp(1.1rem, 4vw, 1.3rem);
            color: var(--primary);
            text-align: center;
            line-height: 1.8;
            animation: fadeIn 0.5s var(--speed) ease-in-out forwards;
            animation-delay: 0.2s;
        }

        aside {
            text-align: center;
            font-size: clamp(0.8rem, 2.5vw, 0.9rem);
            opacity: 0;
            animation: fadeInUp 0.8s calc(var(--speed)+0.2s) ease-out forwards;
        }

        @keyframes fadeIn {
            from {
                opacity: 0
            }

            to {
                opacity: 1
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px)
            }

            to {
                opacity: 1;
                transform: translateY(0)
            }
        }

        @keyframes popIn {
            from {
                transform: scale(0.8)
            }

            to {
                transform: scale(1)
            }
        }

        @keyframes heartbeat {

            0%,
            100% {
                transform: scale(1)
            }

            50% {
                transform: scale(1.1)
            }
        }

        @media(prefers-reduced-motion:reduce) {

            *,
            *::before,
            *::after {
                animation: none !important;
                transition: none !important;
            }
        }
    </style>
</head>

<body>
    <main role="main">
        <header role="banner">
            <h1 id="titulo">Para Mi preciosa princesa</h1>
            <button class="toggle" id="theme-toggle" aria-label="Modo oscuro/deslumbrante">üåô</button>
        </header>
        <div class="card" role="region" aria-labelledby="carta">
            <article id="carta" class="text" aria-live="polite"></article>
            <button id="btn-sorpresa" aria-controls="sorpresa" aria-expanded="false">Ver sorpresa</button>
            <div id="sorpresa" role="region" aria-label="Mensaje sorpresa">¬°Te amo m√°s all√° de las estrellas! ‚≠ê</div>
        </div>
        <aside role="contentinfo">
            <p>Con todo mi amor, tu Dev.</p>
        </aside>
    </main>
    <script defer>
        document.addEventListener('DOMContentLoaded', () => {
            const msg = `Querida Alejandra, hoy me pesa en el alma la sombra de la desconfianza que se ha posado sobre nosotros y quiero dirigirme a ti con la serenidad y la claridad que ense√±aban los antiguos sabios: ‚ÄúNo son los hechos los que nos perturban, sino la opini√≥n que tenemos de ellos‚Äù. Perm√≠teme aclarar la verdad de lo ocurrido: esta ma√±ana recib√≠ el mensaje de la se√±ora Mary, madre de Caroline, para coordinar la venta del computador; acept√©, como simple comerciante y amigo, su invitaci√≥n al almuerzo, sin jam√°s traspasar la frontera de la amistad ni asumir el rol de ‚Äúyerno‚Äù o cualquier otro que no me corresponda contigo. Cuando Mary aludi√≥ a su actual yerno diciendo ‚Äúya que t√∫ no quisiste‚Äù, respond√≠ con ligereza ‚Äúmalo es hablar‚Äù para se√±alar que nunca existi√≥ tal propuesta entre Caroline y yo. Comprendo que esas palabras te hayan herido, pero quiero que sepas que mi √∫nico anhelo eres t√∫: tu risa en las ma√±anas, tu fortaleza en las adversidades y la quietud de tu amor que nutre mi esp√≠ritu; no fui desleal a ti, sino acaso imprudente al no prever c√≥mo sonar√≠an esas frases fuera de contexto. Sin embargo, tambi√©n deseo decirte que me hiri√≥ profundamente tu amenaza de terminar nuestra relaci√≥n por este malentendido: el amor aut√©ntico no se sostiene con ultim√°tums, sino con di√°logo y comprensi√≥n mutua; te pido que evitemos recurrir a la palabra ‚Äúadi√≥s‚Äù cuando a√∫n hay tanto por construir juntos. Si como dice Arist√≥teles ‚Äúla amistad es un alma que habita en dos cuerpos‚Äù, nuestro v√≠nculo se funda en la confianza y el respeto mutuo; ma√±ana no asistir√© al almuerzo con Mary, porque mi primera lealtad y mi prioridad eres t√∫. Adem√°s, deseo que sepas que en el futuro, si surge alguna invitaci√≥n similar y t√∫ conf√≠as en mi transparencia, me des la libertad de aceptarla sin inseguridades: te prometo que antes de dar cualquier paso te lo comunicar√© con la misma honestidad con la que hoy te escribo, para que lo vivamos juntos y sin sombras. Perm√≠teme enmendar el dolor causado con mi sinceridad: te amo con la misma intensidad con que el sabio ama la virtud, no hay sombra en mi √°nimo que no se disipe al evocar tu nombre y deseo compartir contigo cada paso y cada decisi√≥n de ahora en adelante, sin secretos ni sombras. Que la raz√≥n nos gu√≠e, como dec√≠a S√©neca: ‚ÄúLa mayor riqueza es el bien de la mente‚Äù; enriquezcamos la nuestra con la confianza renovada y caminemos juntos, sin temores infundados, hacia la felicidad que nos aguarda. Con todo mi amor y mi respeto inquebrantable, tu compa√±ero y enamorado.`,
                arr = msg.split(''), cont = document.getElementById('carta'); let i = 0;
            (function t() { i < arr.length ? (cont.textContent += arr[i++], setTimeout(t, 50)) : cont.style.borderRight = 'none' })();
            const btn = document.getElementById('btn-sorpresa'), sup = document.getElementById('sorpresa');
            btn.addEventListener('click', () => {
                const e = btn.getAttribute('aria-expanded') === 'true'; btn.setAttribute('aria-expanded', !e);
                btn.textContent = e ? 'Ver sorpresa' : 'Ocultar sorpresa';
                if (e) sup.style.display = 'none'; else { sup.style.display = 'block'; sup.style.animation = 'fadeIn 0.5s ease-in-out' }
            });
            const tb = document.getElementById('theme-toggle'), apply = (t) => { document.documentElement.dataset.theme = t; tb.textContent = t === 'light' ? 'üåô' : '‚òÄÔ∏è' };
            const saved = localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme:dark)').matches ? 'dark' : 'light'); apply(saved);
            tb.addEventListener('click', () => { const n = document.documentElement.dataset.theme === 'light' ? 'dark' : 'light'; apply(n); localStorage.setItem('theme', n) });
        });
    </script>
</body>

</html>
